import{r,u as H,d as T,j as e,e as q,D as L,L as h}from"./index-DOQ3mfqC.js";import{C as W,a as P,b as Y,c as U}from"./Card-ChR5Qaft.js";import{B as p}from"./Button-aCKTJIJa.js";import{F as _}from"./FormInput-BAyslBWq.js";import{F}from"./MagnifyingGlassIcon-tXNzpn5N.js";import{F as v,a as k}from"./HeartIcon-B_2S6qLY.js";function z({title:c,titleId:a,...f},l){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":a},f),c?r.createElement("title",{id:a},c):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const D=r.forwardRef(z);function Q({title:c,titleId:a,...f},l){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":a},f),c?r.createElement("title",{id:a},c):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const E=r.forwardRef(Q);function X({title:c,titleId:a,...f},l){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":a},f),c?r.createElement("title",{id:a},c):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6.878V6a2.25 2.25 0 0 1 2.25-2.25h7.5A2.25 2.25 0 0 1 18 6v.878m-12 0c.235-.083.487-.128.75-.128h10.5c.263 0 .515.045.75.128m-12 0A2.25 2.25 0 0 0 4.5 9v.878m13.5-3A2.25 2.25 0 0 1 19.5 9v.878m0 0a2.246 2.246 0 0 0-.75-.128H5.25c-.263 0-.515.045-.75.128m15 0A2.25 2.25 0 0 1 21 12v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6c0-.98.626-1.813 1.5-2.122"}))}const I=r.forwardRef(X);function J({title:c,titleId:a,...f},l){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":a},f),c?r.createElement("title",{id:a},c):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))}const V=r.forwardRef(J),n={GRID:"grid",LIST:"list",MASONRY:"masonry"};function le(){const{designs:c,loading:a,searchDesigns:f}=H(),[l,C]=T(),[i,b]=r.useState(l.get("query")||""),[d,w]=r.useState(()=>{const s=l.get("category");return s?s.split(","):[]}),[u,G]=r.useState([]),[S,O]=r.useState(!1),[x,j]=r.useState(l.get("sort")||"recent"),[m,M]=r.useState(l.get("view")||n.GRID);r.useEffect(()=>{const s=l.get("category"),t=l.get("query"),o=l.get("sort"),R=l.get("view");s&&w(s.split(",")),t&&b(t),o&&j(o),R&&M(R)},[l]),r.useEffect(()=>{if(a)return;let s=c;switch(i&&(s=s.filter(t=>t.title.toLowerCase().includes(i.toLowerCase())||t.description.toLowerCase().includes(i.toLowerCase())||t.userName.toLowerCase().includes(i.toLowerCase()))),d.length>0&&(s=s.filter(t=>d.includes(t.category))),x){case"popular":s=[...s].sort((t,o)=>o.likes.length-t.likes.length);break;case"comments":s=[...s].sort((t,o)=>o.comments.length-t.comments.length);break;case"oldest":s=[...s].sort((t,o)=>new Date(t.createdAt)-new Date(o.createdAt));break;case"recent":default:s=[...s].sort((t,o)=>new Date(o.createdAt)-new Date(t.createdAt))}G(s)},[c,a,d,i,x]);const B=s=>{s.preventDefault(),A()},A=()=>{const s=new URLSearchParams;i&&s.set("query",i),d.length>0&&s.set("category",d.join(",")),x!=="recent"&&s.set("sort",x),m!==n.GRID&&s.set("view",m),C(s)},Z=s=>{w(t=>t.includes(s)?t.filter(o=>o!==s):[...t,s])},$=()=>{w([]),b(""),j("recent"),C({})},N=()=>{O(!S)},y=s=>{M(s),A()},g=r.useMemo(()=>{let s=0;return i&&s++,d.length>0&&s++,x!=="recent"&&s++,s},[i,d,x]);return e.jsxs("div",{className:"space-y-10 pb-16",children:[e.jsxs("div",{className:"relative bg-gradient-to-br from-primary-600 via-primary-700 to-secondary-600 text-white py-16 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsx("div",{className:"absolute top-0 left-0 w-full h-full",children:[...Array(15)].map((s,t)=>e.jsx("div",{className:"absolute rounded-full bg-white",style:{width:`${Math.random()*10+2}rem`,height:`${Math.random()*10+2}rem`,top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,opacity:Math.random()*.5+.1,transform:`scale(${Math.random()*.8+.6})`}},t))})}),e.jsxs("div",{className:"relative z-10 text-center px-6",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Design Gallery"}),e.jsx("p",{className:"text-primary-100 max-w-2xl mx-auto text-lg",children:"Explore creative projects from student designers around the world. Find inspiration and connect with talented creators."})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[e.jsx("div",{className:"w-full md:flex-1",children:e.jsxs("form",{onSubmit:B,className:"flex gap-2 items-center",children:[e.jsx("div",{className:"flex-1",children:e.jsx(_,{placeholder:"Search designs...",value:i,onChange:s=>b(s.target.value),className:"rounded-full",containerClassName:"mb-0",icon:e.jsx(F,{className:"h-5 w-5 text-gray-400"})})}),e.jsxs(p,{type:"submit",className:"flex-shrink-0 rounded-full h-11",children:[e.jsx(F,{className:"h-5 w-5 mr-1"}),e.jsx("span",{children:"Search"})]})]})}),e.jsxs("div",{className:"hidden md:flex justify-end space-x-2 border-l border-gray-200 pl-4",children:[e.jsxs("button",{onClick:()=>y(n.GRID),className:`h-11 w-11 flex items-center justify-center rounded-full transition-colors ${m===n.GRID?"bg-primary-100 text-primary-700":"text-gray-500 hover:bg-gray-100"}`,title:"Grid View",children:["              ",e.jsx(V,{className:"h-5 w-5"}),"            "]}),"            ",e.jsxs("button",{onClick:()=>y(n.LIST),className:`h-11 w-11 flex items-center justify-center rounded-full transition-colors ${m===n.LIST?"bg-primary-100 text-primary-700":"text-gray-500 hover:bg-gray-100"}`,title:"List View",children:["              ",e.jsx(E,{className:"h-5 w-5"}),"            "]}),"            ",e.jsxs("button",{onClick:()=>y(n.MASONRY),className:`h-11 w-11 flex items-center justify-center rounded-full transition-colors ${m===n.MASONRY?"bg-primary-100 text-primary-700":"text-gray-500 hover:bg-gray-100"}`,title:"Masonry View",children:["              ",e.jsx(I,{className:"h-5 w-5"}),"            "]})]}),e.jsx("div",{className:"hidden md:flex items-center",children:e.jsxs(p,{variant:g>0?"primary":"outline",onClick:N,className:"rounded-full h-11",children:[e.jsx(D,{className:"h-5 w-5 mr-1"}),e.jsxs("span",{children:["Filters",g>0&&e.jsx("span",{className:"ml-1 bg-white text-primary-600 rounded-full px-2 py-0.5 text-xs font-medium",children:g})]})]})}),e.jsxs("div",{className:"md:hidden w-full flex space-x-2 items-center",children:[e.jsxs(p,{variant:g>0?"primary":"outline",onClick:N,className:"flex-1 rounded-full h-11 flex items-center justify-center",children:[e.jsx(D,{className:"h-5 w-5 mr-1"}),e.jsxs("span",{children:["Filters",g>0&&e.jsx("span",{className:"ml-1 bg-white text-primary-600 rounded-full px-2 py-0.5 text-xs font-medium",children:g})]})]}),e.jsxs("div",{className:"flex rounded-full border border-gray-200 overflow-hidden h-11",children:[e.jsx("button",{onClick:()=>y(n.GRID),className:`flex items-center justify-center h-full aspect-square ${m===n.GRID?"bg-primary-100 text-primary-700":"text-gray-500"}`,title:"Grid View",children:e.jsx(V,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>y(n.LIST),className:`flex items-center justify-center h-full aspect-square ${m===n.LIST?"bg-primary-100 text-primary-700":"text-gray-500"}`,title:"List View",children:e.jsx(E,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>y(n.MASONRY),className:`flex items-center justify-center h-full aspect-square ${m===n.MASONRY?"bg-primary-100 text-primary-700":"text-gray-500"}`,title:"Masonry View",children:e.jsx(I,{className:"h-5 w-5"})})]})]})]}),S&&e.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:["              ",e.jsx("h3",{className:"font-medium text-gray-900",children:"Filters"}),"              ",e.jsxs("div",{className:"flex space-x-2",children:["                ",g>0&&e.jsxs("button",{onClick:$,className:"h-9 px-3 text-sm rounded-full text-gray-500 hover:text-gray-700 flex items-center justify-center hover:bg-gray-50 transition-colors",children:["                    ",e.jsx(q,{className:"h-4 w-4 mr-1"}),"                    Clear all                  "]}),"                ",e.jsx("button",{onClick:N,className:"h-9 px-3 text-sm rounded-full text-gray-500 hover:text-gray-700 md:hidden flex items-center justify-center hover:bg-gray-50 transition-colors",children:"                  Close                "}),"              "]}),"            "]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Categories"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:["                ",Object.entries(L).map(([s,t])=>e.jsxs("button",{onClick:()=>Z(s),className:`h-9 px-3 rounded-full text-sm font-medium transition-colors flex items-center justify-center ${d.includes(s)?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["                    ",t.name,"                  "]},s)),"              "]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Sort by"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:["                ",e.jsx("button",{onClick:()=>j("recent"),className:`h-9 px-3 rounded-full text-sm font-medium transition-colors flex items-center justify-center ${x==="recent"?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"                  Most Recent                "}),"                ",e.jsx("button",{onClick:()=>j("popular"),className:`h-9 px-3 rounded-full text-sm font-medium transition-colors flex items-center justify-center ${x==="popular"?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"                  Most Popular                "}),"                ",e.jsx("button",{onClick:()=>j("comments"),className:`h-9 px-3 rounded-full text-sm font-medium transition-colors flex items-center justify-center ${x==="comments"?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"                  Most Comments                "}),"                ",e.jsx("button",{onClick:()=>j("oldest"),className:`h-9 px-3 rounded-full text-sm font-medium transition-colors flex items-center justify-center ${x==="oldest"?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"                  Oldest First                "}),"              "]})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:a?e.jsx("div",{className:"animate-pulse bg-gray-200 h-8 w-48 rounded"}):e.jsx(e.Fragment,{children:i||d.length>0?e.jsxs("span",{children:[u.length," ",u.length===1?"result":"results",i&&e.jsxs("span",{children:[' for "',i,'"']})]}):"All Designs"})}),e.jsx("div",{className:"text-sm text-gray-500",children:!a&&u.length>0&&e.jsxs("span",{children:[u.length," ",u.length===1?"design":"designs"]})})]}),a?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[...Array(6)].map((s,t)=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"bg-gray-200 rounded-xl aspect-[4/3] w-full mb-4"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded-full mr-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"})]})]},t))}):u.length===0?e.jsx("div",{className:"bg-gray-50 rounded-2xl py-16 px-4 text-center shadow-inner",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{className:"bg-white rounded-full p-4 w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:e.jsx("svg",{className:"h-10 w-10 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No designs found"}),e.jsx("p",{className:"text-gray-600 mb-8",children:i||d.length>0?"We couldn't find any designs matching your search. Try adjusting your filters or search terms.":"No designs have been uploaded yet. Be the first to share your work!"}),(i||d.length>0)&&e.jsx(p,{onClick:$,className:"rounded-full h-11",children:"                  Clear all filters                "})]})}):e.jsxs(e.Fragment,{children:[m===n.GRID&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:u.map(s=>e.jsxs(W,{className:"border border-gray-100 shadow-lg hover:shadow-xl transition-shadow duration-300 rounded-xl overflow-hidden",children:[e.jsx(h,{to:`/design/${s.id}`,children:e.jsx(P,{src:s.imageUrl,alt:s.title,aspectRatio:"aspect-[4/3]",className:"object-cover hover:scale-105 transition-transform duration-500"})}),e.jsxs(Y,{className:"pb-2",children:[e.jsx(h,{to:`/design/${s.id}`,children:e.jsx("h3",{className:"font-bold text-lg mb-2 hover:text-primary-600 transition-colors",children:s.title})}),e.jsxs(h,{to:`/profile/${s.userId}`,className:"flex items-center mb-3",children:[e.jsx("img",{src:s.userAvatar,alt:s.userName,className:"w-8 h-8 rounded-full mr-2 border-2 border-white shadow-sm"}),e.jsx("span",{className:"text-sm text-gray-600",children:s.userName})]}),e.jsx("p",{className:"text-gray-600 line-clamp-2 text-sm mb-3",children:s.description})]}),e.jsxs(U,{className:"flex justify-between text-gray-500 text-sm border-t border-gray-100 py-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(v,{className:"h-5 w-5 mr-1 text-secondary-500"}),e.jsx("span",{children:s.likes.length})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{className:"h-5 w-5 mr-1 text-primary-500"}),e.jsx("span",{children:s.comments.length})]})]})]},s.id))}),m===n.LIST&&e.jsx("div",{className:"space-y-6",children:u.map(s=>{var t;return e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden flex flex-col md:flex-row",children:[e.jsx(h,{to:`/design/${s.id}`,className:"md:w-64 lg:w-80 shrink-0",children:e.jsx("div",{className:"aspect-[4/3] md:h-full overflow-hidden",children:e.jsx("img",{src:s.imageUrl,alt:s.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-500"})})}),e.jsxs("div",{className:"p-6 flex flex-col flex-1",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs(h,{to:`/profile/${s.userId}`,className:"flex items-center",children:[e.jsx("img",{src:s.userAvatar,alt:s.userName,className:"w-8 h-8 rounded-full mr-2 border-2 border-white shadow-sm"}),e.jsx("span",{className:"text-sm text-gray-600",children:s.userName})]}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(s.createdAt).toLocaleDateString()})]}),e.jsx(h,{to:`/design/${s.id}`,children:e.jsx("h3",{className:"text-xl font-bold mb-2 hover:text-primary-600 transition-colors",children:s.title})}),e.jsx("p",{className:"text-gray-600 mb-4",children:s.description}),e.jsx("div",{className:"flex items-center space-x-2 mb-2",children:e.jsx("span",{className:"inline-flex items-center rounded-full bg-primary-50 px-2.5 py-0.5 text-xs font-medium text-primary-700",children:((t=L[s.category])==null?void 0:t.name)||s.category})})]}),e.jsxs("div",{className:"flex justify-between items-center border-t border-gray-100 pt-4 mt-4",children:[e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(v,{className:"h-5 w-5 mr-1 text-secondary-500"}),e.jsx("span",{className:"text-gray-600",children:s.likes.length})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{className:"h-5 w-5 mr-1 text-primary-500"}),e.jsx("span",{className:"text-gray-600",children:s.comments.length})]})]}),e.jsx(h,{to:`/design/${s.id}`,className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View Details →"})]})]})]},s.id)})}),m===n.MASONRY&&e.jsx("div",{className:"columns-1 sm:columns-2 lg:columns-3 gap-6 space-y-6",children:u.map(s=>e.jsxs("div",{className:"break-inside-avoid bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx(h,{to:`/design/${s.id}`,children:e.jsx("img",{src:s.imageUrl,alt:s.title,className:"w-full object-cover hover:scale-105 transition-transform duration-500"})}),e.jsxs("div",{className:"p-5",children:[e.jsx(h,{to:`/design/${s.id}`,children:e.jsx("h3",{className:"font-bold text-lg mb-2 hover:text-primary-600 transition-colors",children:s.title})}),e.jsxs(h,{to:`/profile/${s.userId}`,className:"flex items-center mb-3",children:[e.jsx("img",{src:s.userAvatar,alt:s.userName,className:"w-8 h-8 rounded-full mr-2 border-2 border-white shadow-sm"}),e.jsx("span",{className:"text-sm text-gray-600",children:s.userName})]}),e.jsx("p",{className:"text-gray-600 line-clamp-3 text-sm mb-3",children:s.description}),e.jsxs("div",{className:"flex justify-between text-gray-500 text-sm border-t border-gray-100 pt-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(v,{className:"h-5 w-5 mr-1 text-secondary-500"}),e.jsx("span",{children:s.likes.length})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{className:"h-5 w-5 mr-1 text-primary-500"}),e.jsx("span",{children:s.comments.length})]})]})]})]},s.id))})]})]})]})}export{le as default};
